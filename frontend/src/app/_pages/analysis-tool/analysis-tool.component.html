<div id="page-analysis-tool">
  <header class="page-title flex items-center">
    <div class="wrapper">
      <div class="hero-container flex items-center justify-between">
        <div class="description flex-auto">
          <div class="title-header f-size-13 line-height-1 f-weight-500 text-transform-uppercase">
            Tools
          </div>
          <h1 class="title">
            Analysis Tool
          </h1>
          <div class="subtitle f-size-20 line-height-1-5 line-height-1">
            Make your own analysis, use our models, visualize the results and download them.
          </div>
          <button mat-raised-button color="primary" class="btn-cta btn-lg"
            (click)="scrollToSection('sectionTypeSelection')">Let&apos;s
            start</button>
        </div>
        <div class="hero-image">
          <img src="assets/img/page/analysis-tool/img-hero.jpg" height="auto" width="650">
        </div>
      </div>
    </div>
    <div class="image-attribution-markup">
      Image by <a
        href="https://www.freepik.com/free-vector/data-inform-illustration-concept_6195525.htm#query=analysis&position=6&from_view=search&track=sph">storyset</a>
      on <a href="https://www.freepik.com/">Freepik</a>
    </div>
  </header>
  <div class="wrapper">
    <section id="section-about">
      <header>
        <div class="title f-size-24 color-tp-title f-weight-500">Introduction</div>
      </header>
      <br>
      <p class="f-size-16 color-tp-body line-height-1-5">
        Our team has developed a web tool that consists of two services to address the crucial role of Internet
        Connectivity in schools. This application results from our partnership with UNICEF, and we are proud of the
        outcome.
      </p>
      <p class="f-size-16 color-tp-body line-height-1-5">
        To ensure the quality of our services, we collected extensive data from various Brazilian government sources and
        studied their impact on the quality of the services developed. We are excited about the fruits of this
        challenging endeavor, which we believe will make a difference.
      </p>
      <p class="f-size-16 color-tp-body line-height-1-5">
        However, as this is the first version of our tool, we welcome everyone interested in contributing to improving
        this project.
      </p>
      <br>
      <br>
      <div class="f-size-20 color-tp-title f-weight-500">Connectivity Prediction</div>
      <br>
      <p class="f-size-16 color-tp-body line-height-1-5">
        The first service is an Internet Availability Predictor that aims to provide a solution for schools lacking
        internet availability information. It helps policymakers plan and allocate resources more effectively by
        estimating the likelihood of schools having reliable internet access using demographic and geographic data
        provided by the user.
      </p>
      <br>
      <br>
      <div class="f-size-20 color-tp-title f-weight-500">Employability Impact</div>
      <br>
      <p class="f-size-16 color-tp-body line-height-1-5">
        The second service measures the employability impact of providing internet access by comparing data on
        employment rates and job opportunities between municipalities where school internet access has been improved or
        stagnated over the years. This information helps policymakers and educators understand the importance of
        reliable internet access for students' future success.
      </p>
      <br>
      <br>
      <br>
      <header>
        <div class="title f-size-24 color-tp-title f-weight-500">How it works</div>
      </header>
      <br>
      <p class="f-size-16 color-tp-body line-height-1-5">
        Our web tool offers a simple and efficient solution for users to choose the service they want and upload their
        data. The selected service validates the data and builds a custom model to fit the user's context. The tool
        returns an overview of the results and initial insights, which the user can download along with the raw results
        for further examination.
      </p>
    </section>
    <section id="section-type-selection" #sectionTypeSelection>
      <header>
        <div class="title f-size-24 color-tp-title f-weight-500">Let&apos;s start</div>
        <div class="subtitle f-size-16 color-tp-body">Choose the type of analysis</div>
      </header>
      <br>
      <div class="alert alert-warning">
        This is a MVP, the analysis performed in it have a limited storage time, so your analysis
        may not be available after it is executed. Be sure to download the results as soon as you receive them. If your
        analysis is no longer available, you can start a new one.
      </div>
      <br>
      <div class="flex direction-column items-stretch justify-between" id="selection-list">
        <mat-card class="selection-item" (click)="onSelectAnalysisTypeClick(1)"
          [ngClass]="{'active': selectedAnalysisType === 1}">
          <mat-icon class="active-icon material-icons color-blue">check_circle</mat-icon>
          <mat-card-title>Connectivity Prediction</mat-card-title>
          <mat-card-subtitle>Analysis</mat-card-subtitle>
          <mat-card-content>
            <p class="line-height-1-5">
              Internet Availability Predictor that aims to provide a solution for schools lacking internet availability
              information.
            </p>
          </mat-card-content>
        </mat-card>
        <mat-card class="selection-item" (click)="onSelectAnalysisTypeClick(2)"
          [ngClass]="{'active': selectedAnalysisType === 2}">
          <mat-icon class="active-icon material-icons color-blue">check_circle</mat-icon>
          <mat-card-title class="flex items-start">Employability Impact</mat-card-title>
          <mat-card-subtitle>Analysis</mat-card-subtitle>
          <mat-card-content>
            <p class="line-height-1-5">
              Measures the employability impact of providing internet access by comparing data on employment rates and
              job opportunities between municipalities where school internet access has been improved or stagnated over
              the years.
            </p>
          </mat-card-content>
        </mat-card>
      </div>
    </section>
    <section *ngIf="storageTask">
      <div class="storage-task-card"
        [ngClass]="{'pending': storageTask.status === 'PENDING', 'fail': storageTask.status === 'FAILURE', 'received': storageTask.status === 'RECEIVED', 'started': storageTask.status === 'STARTED', 'success': storageTask.status === 'SUCCESS'}">
        <header class="flex items-center justify-between">
          <div class="color-tp-title flex items-center f-size-14" matTooltip="Last status checked at">
            <mat-icon *ngIf="!loadingPoolTask"
              class="cursor-pointer material-icons-outlined color-tp-body">history</mat-icon>&nbsp;
            <span *ngIf="!loadingPoolTask">{{storageTask.statusCheckedAtString}}</span>&nbsp;<span
              *ngIf="!loadingPoolTask && (this.poolTaskSubscription && !this.poolTaskSubscription.closed)"
              class="color-tp-body">(Updating in
              {{statusCheckTimeLeft}}s)</span>
            <div class="flex items-center" *ngIf="loadingPoolTask">
              <mat-spinner [diameter]="20"></mat-spinner>&nbsp;&nbsp;
              <span class="f-size-13 color-tp-body">Updating...</span>
            </div>
          </div>
          <div class="status-label flex items-center pending">
            <div class="label-text f-weight-500">{{storageTask.status}}</div>
            <mat-icon class="label-icon material-icons-outlined"
              *ngIf="storageTask.status === 'FAILURE'">error_outline</mat-icon>
            <mat-icon class="label-icon material-icons-outlined"
              *ngIf="storageTask.status === 'PENDING'">pending</mat-icon>
            <mat-icon class="label-icon material-icons-outlined"
              *ngIf="storageTask.status === 'RECEIVED'">call_received</mat-icon>
            <mat-icon class="label-icon material-icons-outlined"
              *ngIf="storageTask.status === 'STARTED'">play_arrow</mat-icon>
            <mat-icon class="label-icon material-icons-outlined"
              *ngIf="storageTask.status === 'SUCCESS'">check_circle</mat-icon>
          </div>
        </header>
        <div class="content">
          <div class="f-size-20 color-tp-title f-weight-500 line-height-1-5">
            <span *ngIf="selectedAnalysisType === 1">Connectivity Prediction Analysis</span>
            <span *ngIf="selectedAnalysisType === 2">Employability Impact Analysis</span>
          </div>
          <div class="f-size-16 color-tp-body">{{storageTask.id}}</div>
          <br>
          <div class="tag-list flex items-center">
            <div class="tag-item flex items-center" matTooltip="Received at" *ngIf="storageTask.receivedAt">
              <mat-icon class="tag-icon material-icons-outlined color-tp-body f-size-20">manage_history</mat-icon>
              <span class="color-tp-body f-size-13">{{storageTask.receivedAtString}}</span>
            </div>
            <div class="tag-item flex items-center" matTooltip="Started at" *ngIf="storageTask.startedAt">
              <mat-icon class="tag-icon material-icons-outlined color-tp-body f-size-20">play_arrow</mat-icon>
              <span class="color-tp-body f-size-13">{{storageTask.startedAtString}}</span>
            </div>
            <div class="tag-item flex items-center" matTooltip="Success at"
              *ngIf="storageTask.status === 'SUCCESS' && storageTask.successAt">
              <mat-icon class="tag-icon material-icons-outlined color-tp-body f-size-20">done</mat-icon>
              <span class="color-tp-body f-size-13">{{storageTask.successAtString}}</span>
            </div>
            <div class="tag-item flex items-center" matTooltip="Failure at"
              *ngIf="storageTask.status === 'FAILURE' && storageTask.failureAt">
              <mat-icon class="tag-icon material-icons-outlined color-tp-body f-size-20">error_outline</mat-icon>
              <span class="color-tp-body f-size-13">{{storageTask.failureAtString}}</span>
            </div>
          </div>
          <br>
          <div class="alert alert-sm"
            [ngClass]="{'alert-warning': storageTask.status === 'PENDING', 'alert-danger': storageTask.status === 'FAILURE', 'alert-info': storageTask.status === 'RECEIVED' || storageTask.status === 'STARTED', 'alert-success': storageTask.status === 'SUCCESS'}">
            <div class="f-weight-500">Status message:</div>
            <p *ngIf="!storageTask.statusCheckMessage">{{storageTask.statusMessage}}</p>
            <p *ngIf="storageTask.statusCheckMessage">{{storageTask.statusCheckMessage}}</p>
            <p class="ellipsis lines-3" *ngIf="storageTask.exceptionMessage">{{storageTask.exceptionMessage}}</p>
          </div>
        </div>
        <footer>
          <button *ngIf="storageTask.status === 'SUCCESS'" (click)="onButtonViewResultsClick()" mat-raised-button>
            Show Results
          </button>
          <a *ngIf="storageTask.status === 'FAILURE'"
            href="mailto:contato@jobzi.com?subject=Jobzi | Unicef - Analysis tool error&body={{getContactUsBodyErrorMessage()}}"
            mat-raised-button>
            Contact Us
          </a>
          <button
            *ngIf="storageTask.statusCheckCode > 200 && (this.poolTaskSubscription && this.poolTaskSubscription.closed)"
            mat-raised-button (click)="onButtonRetryCheckStatusClick()">Retry check status</button>
          <button mat-raised-button (click)="onButtonViewValidationResultsClick()">View validation results</button>
          <button
            [disabled]="(storageTask.status !== 'SUCCESS' && storageTask.status !== 'FAILURE' && storageTask.statusCheckCode <= 200) || (this.poolTaskSubscription && !this.poolTaskSubscription.closed)"
            mat-raised-button color="warn" (click)="onButtonRemoveStorageValueClick()"
            matTooltip="Discard and start new analysis">Discard</button>
        </footer>
      </div>
    </section>
    <section id="section-analysis-steps" *ngIf="selectedAnalysisType && !storageTask" #sectionAnalysisSteps>
      <mat-vertical-stepper [linear]="true" (selectionChange)="onStepSelectionChange($event)" #analysisStepper>
        <mat-step [completed]="false">
          <ng-template matStepLabel>Input Data</ng-template>
          <div class="step-inputs-list flex items-stretch">
            <mat-card class="step-input-item" *ngIf="selectedAnalysisType === 1">
              <mat-icon class="cursor-pointer help-icon material-icons color-tp-body"
                matTooltip="View file requirements"
                (click)="onFileRequirementsClick(analysisTypeEnum.School)">help</mat-icon>
              <mat-card-title>Schools</mat-card-title>
              <mat-card-subtitle>input</mat-card-subtitle>
              <mat-card-content>
                <p class="color-tp-body">
                  File containing connectivity data in schools of a country.
                </p>
                <p>Read our <span class="color-blue cursor-pointer"
                    (click)="onFileRequirementsClick(analysisTypeEnum.School)">File
                    Requirements</span> or <a href="/assets/analysis-input-definition/school_template.csv"
                    target="_blank" class="color-blue text-decoration-none">download a CSV
                    Template</a> to get started.</p>
                <div class="file-upload-container direction-column flex items-center" appFileDragAndDrop
                  (fileDropped)="onFileDropped($event, 'schoolFile')" *ngIf="selectedAnalysisType && !schoolFile">
                  <mat-icon class="material-icons-outlined f-size-48 color-tp-body">file_upload</mat-icon>
                  <p class="f-size-16 color-tp-body">Drag & Drop or <span
                      class="color-blue cursor-pointer text-decoration-none" (click)="fileDropRef.click()">browse</span>
                  </p>
                  <p class="f-size-13 color-tp-label">Supports: CSV</p>
                  <input type="file" #fileDropRef id="fileDropRef" (change)="onFileBrowserHandler($event, 'schoolFile')"
                    accept=".csv" class="file-drop-input" />
                </div>
                <br>
                <div class="file-selected-container flex items-center" *ngIf="schoolFile">
                  <mat-icon class="material-icons-outlined f-size-48 color-tp-body">description</mat-icon>
                  <div class="flex-auto">
                    <div class="color-tp-title f-size-16 line-height-1-5 f-weight-500">{{schoolFile.name}}</div>
                    <div class="color-tp-body f-size-13">{{schoolFile.size | fileSize}}</div>
                  </div>
                  <button mat-mini-fab color="primary" aria-label="Remove file"
                    (click)="onButtonRemoveFileClick('schoolFile')">
                    <mat-icon class="material-icons-outlined">delete_outline</mat-icon>
                  </button>
                </div>
              </mat-card-content>
            </mat-card>
            <mat-card class="step-input-item" *ngIf="selectedAnalysisType === 1">
              <mat-icon class="cursor-pointer help-icon material-icons color-tp-body"
                matTooltip="View file requirements"
                (click)="onFileRequirementsClick(analysisTypeEnum.Locality)">help</mat-icon>
              <mat-card-title>Locality</mat-card-title>
              <mat-card-subtitle>input</mat-card-subtitle>
              <mat-card-content>
                <p class=" color-tp-body">
                  A file containing the locality's data.
                </p>
                <p>
                  Read our <span class="color-blue cursor-pointer"
                    (click)="onFileRequirementsClick(analysisTypeEnum.Locality)">File
                    Requirements</span> or <a href="/assets/analysis-input-definition/locality_template.csv"
                    target="_blank" class="color-blue text-decoration-none">download a CSV
                    Template</a> to get started.
                </p>
                <div class="file-upload-container direction-column flex items-center" appFileDragAndDrop
                  (fileDropped)="onFileDropped($event, 'localityFile')" *ngIf="selectedAnalysisType && !localityFile">
                  <mat-icon class="material-icons-outlined f-size-48 color-tp-body">file_upload</mat-icon>
                  <p class="f-size-16 color-tp-body">Drag & Drop or <span
                      class="color-blue cursor-pointer text-decoration-none" (click)="fileDropRef.click()">browse</span>
                  </p>
                  <p class="f-size-13 color-tp-label">Supports: CSV</p>
                  <input type="file" #fileDropRef id="fileDropRef"
                    (change)="onFileBrowserHandler($event, 'localityFile')" accept=".csv" class="file-drop-input" />
                </div>
                <br>
                <div class="file-selected-container flex items-center" *ngIf="localityFile">
                  <mat-icon class="material-icons-outlined f-size-48 color-tp-body">description</mat-icon>
                  <div class="flex-auto">
                    <div class="color-tp-title f-size-16 line-height-1-5 f-weight-500">
                      {{localityFile.name}}</div>
                    <div class="color-tp-body f-size-13">{{localityFile.size | fileSize}}</div>
                  </div>
                  <button mat-mini-fab color="primary" aria-label="Remove file"
                    (click)="onButtonRemoveFileClick('localityFile')">
                    <mat-icon class="material-icons-outlined">delete_outline</mat-icon>
                  </button>
                </div>
              </mat-card-content>
            </mat-card>
            <mat-card class="step-input-item" *ngIf="selectedAnalysisType === 2">
              <mat-icon class="cursor-pointer help-icon material-icons color-tp-body"
                matTooltip="View file requirements"
                (click)="onFileRequirementsClick(analysisTypeEnum.SchoolHistory)">help</mat-icon>
              <mat-card-title>School History</mat-card-title>
              <mat-card-subtitle>input</mat-card-subtitle>
              <mat-card-content>
                <p class=" color-tp-body">
                  File containing historical connectivity data in schools of a country.
                </p>
                <p>Read our <span class="color-blue cursor-pointer"
                    (click)="onFileRequirementsClick(analysisTypeEnum.SchoolHistory)">File
                    Requirements</span> or <a href="/assets/analysis-input-definition/school_history_template.csv"
                    target="_blank" class="color-blue text-decoration-none">download a CSV
                    Template</a> to get started.</p>
                <div class="file-upload-container direction-column flex items-center" appFileDragAndDrop
                  (fileDropped)="onFileDropped($event, 'schoolHistoryFile')"
                  *ngIf="selectedAnalysisType && !schoolHistoryFile">
                  <mat-icon class="material-icons-outlined f-size-48 color-tp-body">file_upload</mat-icon>
                  <p class="f-size-16 color-tp-body">Drag & Drop or <span
                      class="color-blue cursor-pointer text-decoration-none" (click)="fileDropRef.click()">browse</span>
                  </p>
                  <p class="f-size-13 color-tp-label">Supports: CSV</p>
                  <input type="file" #fileDropRef id="fileDropRef"
                    (change)="onFileBrowserHandler($event, 'schoolHistoryFile')" accept=".csv"
                    class="file-drop-input" />
                </div>
                <br>
                <div class="file-selected-container flex items-center" *ngIf="schoolHistoryFile">
                  <mat-icon class="material-icons-outlined f-size-48 color-tp-body">description</mat-icon>
                  <div class="flex-auto">
                    <div class="color-tp-title f-size-16 line-height-1-5 f-weight-500">{{schoolHistoryFile.name}}</div>
                    <div class="color-tp-body f-size-13">{{schoolHistoryFile.size | fileSize}}</div>
                  </div>
                  <button mat-mini-fab color="primary" aria-label="Remove file"
                    (click)="onButtonRemoveFileClick('schoolHistoryFile')">
                    <mat-icon class="material-icons-outlined">delete_outline</mat-icon>
                  </button>
                </div>
              </mat-card-content>
            </mat-card>
            <mat-card class="step-input-item" *ngIf="selectedAnalysisType === 2">
              <mat-icon class="cursor-pointer help-icon material-icons color-tp-body"
                matTooltip="View file requirements"
                (click)="onFileRequirementsClick(analysisTypeEnum.LocalityEmployability)">help</mat-icon>
              <mat-card-title>Locality Employability</mat-card-title>
              <mat-card-subtitle>input</mat-card-subtitle>
              <mat-card-content>
                <p class=" color-tp-body">
                  A file containing the locality's employability rate over the years.
                </p>
                <p>
                  Read our <span class="color-blue cursor-pointer"
                    (click)="onFileRequirementsClick(analysisTypeEnum.LocalityEmployability)">File
                    Requirements</span> or <a
                    href="/assets/analysis-input-definition/locality_employability_template.csv" target="_blank"
                    class="color-blue text-decoration-none">download a CSV
                    Template</a> to get started.
                </p>
                <div class="file-upload-container direction-column flex items-center" appFileDragAndDrop
                  (fileDropped)="onFileDropped($event, 'localityEmployabilityFile')"
                  *ngIf="selectedAnalysisType && !localityEmployabilityFile">
                  <mat-icon class="material-icons-outlined f-size-48 color-tp-body">file_upload</mat-icon>
                  <p class="f-size-16 color-tp-body">Drag & Drop or <span
                      class="color-blue cursor-pointer text-decoration-none" (click)="fileDropRef.click()">browse</span>
                  </p>
                  <p class="f-size-13 color-tp-label">Supports: CSV</p>
                  <input type="file" #fileDropRef id="fileDropRef"
                    (change)="onFileBrowserHandler($event, 'localityEmployabilityFile')" accept=".csv"
                    class="file-drop-input" />
                </div>
                <br>
                <div class="file-selected-container flex items-center" *ngIf="localityEmployabilityFile">
                  <mat-icon class="material-icons-outlined f-size-48 color-tp-body">description</mat-icon>
                  <div class="flex-auto">
                    <div class="color-tp-title f-size-16 line-height-1-5 f-weight-500">
                      {{localityEmployabilityFile.name}}</div>
                    <div class="color-tp-body f-size-13">{{localityEmployabilityFile.size | fileSize}}</div>
                  </div>
                  <button mat-mini-fab color="primary" aria-label="Remove file"
                    (click)="onButtonRemoveFileClick('localityEmployabilityFile')">
                    <mat-icon class="material-icons-outlined">delete_outline</mat-icon>
                  </button>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <div class="step-action-container">
            <button mat-raised-button color="primary" (click)="onButtonNextClick()"
              [disabled]="!schoolFile || !localityFile" *ngIf="selectedAnalysisType === 1">Next</button>
            <button mat-raised-button color="primary" (click)="onButtonNextClick()"
              [disabled]="!localityFile && !schoolHistoryFile" *ngIf="selectedAnalysisType === 2">Next</button>
          </div>
        </mat-step>
        <mat-step [completed]="false">
          <ng-template matStepLabel>Initial Input Validation</ng-template>
          <div *ngIf="selectedAnalysisType === 1">
            <div class="input-validation-item">
              <div class="color-tp-title f-size-16 f-weight-500">School File</div>
              <ul class="input-validation-list">
                <li *ngFor="let item of schoolFileValidationResult" class="flex items-center">
                  <mat-icon class="material-icons color-green f-size-16" *ngIf="item.valid">check_circle</mat-icon>
                  <mat-icon class="material-icons color-feat-red f-size-16" *ngIf="!item.valid">error_outline</mat-icon>
                  <div class="color-tp-body f-size-14">{{item.message}}</div>
                </li>
              </ul>
            </div>
            <div class="input-validation-item">
              <div class="color-tp-title f-size-16 f-weight-500">Locality File</div>
              <ul class="input-validation-list">
                <li *ngFor="let item of localityFileValidationResult" class="flex items-center">
                  <mat-icon class="material-icons color-green f-size-16" *ngIf="item.valid">check_circle</mat-icon>
                  <mat-icon class="material-icons color-feat-red f-size-16" *ngIf="!item.valid">error_outline</mat-icon>
                  <div class="color-tp-body f-size-14">{{item.message}}</div>
                </li>
              </ul>
            </div>
          </div>
          <div *ngIf="selectedAnalysisType === 2">
            <div class="input-validation-item">
              <div class="color-tp-title f-size-16 f-weight-500">School History File</div>
              <ul class="input-validation-list">
                <li *ngFor="let item of schoolHistoryFileValidationResult" class="flex items-center">
                  <mat-icon class="material-icons color-green f-size-16" *ngIf="item.valid">check_circle</mat-icon>
                  <mat-icon class="material-icons color-feat-red f-size-16" *ngIf="!item.valid">error_outline</mat-icon>
                  <div class="color-tp-body f-size-14">{{item.message}}</div>
                </li>
              </ul>
            </div>
            <div class="input-validation-item">
              <div class="color-tp-title f-size-16 f-weight-500">Locality Employability File</div>
              <ul class="input-validation-list">
                <li *ngFor="let item of localityEmployabilityFileValidationResult" class="flex items-center">
                  <mat-icon class="material-icons color-green f-size-16" *ngIf="item.valid">check_circle</mat-icon>
                  <mat-icon class="material-icons color-feat-red f-size-16" *ngIf="!item.valid">error_outline</mat-icon>
                  <div class="color-tp-body f-size-14">{{item.message}}</div>
                </li>
              </ul>
            </div>
          </div>
          <button mat-raised-button color="primary" (click)="onButtonNextClick()" *ngIf="selectedAnalysisType === 1"
            [disabled]="!schoolFileIsValid || !localityFileIsValid">Next</button>
          <button mat-raised-button color="primary" (click)="onButtonNextClick()" *ngIf="selectedAnalysisType === 2"
            [disabled]="!schoolHistoryFileIsValid || !localityEmployabilityFileIsValid">Next</button>
        </mat-step>
        <mat-step [completed]="false" *ngIf="selectedAnalysisType === 2">
          <ng-template matStepLabel>Setup</ng-template>
          <div>
            <p class="flex items-center">Would you like to try to homogenize the sets by features?&nbsp;&nbsp;<mat-icon
                class="active-icon material-icons color-tp-label"
                matTooltip="Description of what it means to homogenize datasets">info</mat-icon></p>
            <mat-slide-toggle (change)="onEmployabilityHomogenizeCheckChange($event)"
              [(ngModel)]="isEmployabilityHomogenizeChecked">{{isEmployabilityHomogenizeChecked ? 'YES'
              : 'NO'}}</mat-slide-toggle>
          </div>
          <div *ngIf="isEmployabilityHomogenizeChecked">
            <br>
            <br>
            <p>Choose the features:</p>
            <ul class="feature-list">
              <li *ngFor="let feature of employabilityHomogenizeFeatures">
                <mat-checkbox [(ngModel)]="feature.checked">
                  {{feature.name | uppercase}}
                </mat-checkbox>
              </li>
            </ul>
          </div>
          <br><br><br>
          <button mat-raised-button color="primary" (click)="onButtonNextClick()"
            [disabled]="isEmployabilityHomogenizeChecked && checkedEmployabilityFeaturesLength === 0">Next</button>
        </mat-step>
        <mat-step [completed]="false">
          <ng-template matStepLabel>Execute</ng-template>
          <div>
            <p>If you are ready, click the button below to start analysis processing</p>
            <button mat-raised-button color="warn" (click)="onButtonStartAnalysisClick()"
              [disabled]="loadingStartTask">Start Analysis</button>
          </div>
          <br>
          <div class="upload-file-progrees" *ngIf="loadingStartTask">
            <p>Upload Progress: {{progress}}%</p>
            <mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar>
          </div>
        </mat-step>
      </mat-vertical-stepper>
    </section>
  </div>
</div>
<!-- FOOTER -->
<app-page-footer [isCompressed]="true"></app-page-footer>